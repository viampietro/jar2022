\NeedsTeXFormat{LaTeX2e}

\ProvidesPackage{lstvhdl}[2019/09/25, From Internet, V1.0]

% extensions

\RequirePackage{xcolor}
\RequirePackage{listings}

% Defines colors for keywords.

\definecolor{ltblue}{rgb}{0,0.4,0.4}
\definecolor{dkblue}{rgb}{0,0.1,0.6}
\definecolor{dkgreen}{rgb}{0,0.35,0}
\definecolor{dkviolet}{rgb}{0.3,0,0.5}
\definecolor{dkred}{rgb}{0.5,0,0}
\definecolor{bluebell}{RGB}{36,36,102}
\definecolor{lochmara}{RGB}{0,102,154}
\definecolor{indigo}{RGB}{100,52,163}
\definecolor{darkmagenta}{RGB}{187,69,180}

%
% lstlisting coq style (inspired from a file of Assia Mahboubi)
%
\lstdefinelanguage{VHDL}{
% Disable lstlisting typesetting between delimiters.
escapechar=\#,  
%
% Anything betweeen $ becomes LaTeX math mode
mathescape=true,
%
% Comments may or not include Latex commands
texcl=false, 
%
% General keywords
morekeywords=[1]{is, generic, port, begin, end, range, to, downto,
  variable, process, signal, for, in, loop, entity, architecture,
  and, or, then, else, elsif, when, subtype, of, constant, procedure,
  out, if, map, wait, on, until, inertial, transport, after},
%
% Types
morekeywords=[2]{natural, std_logic, std_logic_vector, array, boolean},
% Time units and use statements.
morekeywords=[3]{ns,ps,work},
% H-VHDL special statements.
morekeywords=[7]{falling, rising, rst},
% H-VHDL component instantiation statement
morekeywords=[8]{comp},
%
% Comments delimiters, we do turn this off for the manual
morecomment=[l]--,
%
% Spaces are not displayed as a special character
showstringspaces=false,
%
% String delimiters
morestring=[b]",
morestring=[b]',
morestring=[d]Â’,
%
% Size of tabulations
tabsize=3,
frame=tblr, % draw a frame at the top, right, left and bottom of the listing
frameround=tttt, % make the frame round at all four corners
% framexleftmargin=2em,
% framesep=4pt, % quarter circle size of the round corners
% numbersep=4pt,
% numbers=left, % show line numbers at the left
% numberstyle=\tiny\ttfamily, % style of the line numbers
% 
% Enables ASCII chars 128 to 255
extendedchars=false,
%
% Case sensitivity
sensitive=true,
%
% Automatic breaking of long lines
breaklines=true,
%
% Default style fors listings
basicstyle=\small,
%
% Position of captions is bottom
captionpos=b,
%
% flexible columns
columns=[l]fullflexible,
%
% Style for (listings') identifiers
identifierstyle={\ttfamily\color{black}},
% Style for declaration keywords
keywordstyle=[1]{\ttfamily\color{bluebell}},
% Style for gallina keywords
keywordstyle=[2]{\ttfamily\color{dkgreen}},
% Style for sorts keywords
keywordstyle=[3]{\ttfamily\color{indigo}},
% Style for tactics keywords
keywordstyle=[4]{\ttfamily\color{dkblue}},
% Style for terminators keywords
keywordstyle=[5]{\ttfamily\color{dkred}},
% Style for Hilecop identifiers
keywordstyle=[7]{\ttfamily\color{dkred}},
% Style for component instantiation statement
keywordstyle=[8]{\ttfamily\color{dkgreen}},
%Style for iterators
%keywordstyle=[6]{\ttfamily\color{dkpink}},
% Style for strings
stringstyle={\ttfamily\color{dkred}},
% Style for comments
commentstyle={\ttfamily\color{dkgreen}},
%
%moredelim=**[is][\ttfamily\color{red}]{/&}{&/},
literate=
    {=>}{{$\Rightarrow\;$}}1
    {<=}{{$\Leftarrow\;$}}1
    % {-}{-}1
    % 
}[keywords,comments,strings]

\lstnewenvironment{vhdl}{\lstset{language=VHDL}}{}

% Inline environment to use in text.
\def\vhdle{\lstinline[language=VHDL, basicstyle=\normalfont]}

% Inline environment to use in tables.
\def\vhdles{\lstinline[language=VHDL, basicstyle=\scriptsize]}
